<launch> 


<!-- Load urdf WAM model -->
    <param name="robot_description" command="$(find xacro)/xacro.py '$(find iri_wam_description)/xacro/wam.urdf.xacro'" />

<!-- Controller Manager -->
    <remap from="/joint_states" to="iri_wam_63/wam_wrapper/joint_states"/>
    <include file="$(find pr2_controller_manager)/controller_manager.launch" />

<!-- Publish Inverse Kinematics -->
    <remap from="/wam_ik/joint_states" to="/wam_driver_node/joint_states"/>
    <remap from="/wam_ik/joint_move" to="/wam_driver_node/joints_move"/>
    <node name="wam_ik" pkg="iri_wam_ik" type="wam_ikac" />

<!-- Starts RVIZ -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find iri_wam_bringup)/launch/iri_wam_real.vcg" output="screen" />

<!-- start arm navigation stack -->
    <include file="$(find iri_wam_arm_navigation)/launch/iri_wam_arm_navigation.launch" />
    <param name="iri_wam_move_iri_wam/controller_action_name" type="string" value="iri_wam_63/iri_wam_pr2_controller/follow_joint_trajectory" />
</launch>


<!-- Publish Forward Kinematics (NOT NEEDED BECAUSE OF THE ROBOT STATE PKG ) -->
<!--
    <remap from="/wam_fk/tf" to="/tf"/>
    <remap from="/wam_fk/joint_states" to="/wam_driver_node/joint_states"/>
    <node name="wam_fk" pkg="iri_wam_fk" type="wam_fk" />
-->    

