<!-- -1.5708 3.1416 !-->

<robot name="iri_wam">
		
    <link name="wam0">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1000"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
           <origin xyz="0 0 0" rpy="0 0 0" /> 
            <geometry name="wam0-geom">
               <mesh filename="package://iri_wam_description/urdf/mesh/wam0.stl"/>
            </geometry>
            <material name="wam0-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam0-geom">
               <mesh filename="package://iri_wam_description/urdf/mesh/wam0.stl"/>
            </geometry>
			
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
    <link name="wam1">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />  
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
            <origin xyz="0 0 0.185" rpy="0 0 0" />        
            <geometry name="wam1-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam1.stl"/>
            </geometry>
            <material name="wam1-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0.185" rpy="0 0 0" /> 
            <geometry name="wam1-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam1.stl"/> 
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
	<link name="wam2">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />    
            <geometry name="wam2-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam2.stl" />  
            </geometry>
            <material name="wam2-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam2-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam2.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
    <link name="wam3">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam3-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam3_joint_encoder.stl" />
            </geometry>
            <material name="wam3-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam3-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam3_joint_encoder.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
    <link name="wam4">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />        
            <geometry name="wam4-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam4.stl" />
            </geometry>
            <material name="wam4-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam4-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam4.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
    <link name="wam5">
        <inertial>
             <origin xyz="0 0 0" rpy="0 0 0" />   
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
             <origin xyz="0 0 -0.3" rpy="0 0 0" />         
            <geometry name="wam5-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam5.stl" />
            </geometry>
            <material name="wam5-mat">
                <color rgba="0.75 0.75 0.75 1"/>
            </material>
        </visual>
        <collision>
             <origin xyz="0 0 -0.3" rpy="0 0 0" /> 
            <geometry name="wam5-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam5.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
    <link name="wam6">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />    
            <geometry name="wam6-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam6.stl" />
            </geometry>
            <material name="wam6-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry name="wam6-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam6.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link>
	<link name="wam7">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="1"/>
            <inertia ixx="100"  ixy="0"  ixz="0" iyy="100" iyz="0" izz="100" />
        </inertial>
        <visual>
            <origin xyz="0 0.0609 0" rpy="1.57 0 0" />   
            <geometry name="wam7-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam7_280.stl" />
            </geometry>
            <material name="wam7-mat">
                <color rgba="0.75 0.75 0.75 1.0"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0 0.0609 0" rpy="1.57 0 0" />   
            <geometry name="wam7-geom">
				<mesh filename="package://iri_wam_description/urdf/mesh/wam7_280.stl" />
            </geometry>
            <contact_coefficients mu="0" kp="1000.0" kd="1.0"/>
        </collision>
    </link> 
     <!-- The WAM Robot  have a velocity's limit of 2 [rad/seg](a maximun velocity), but also have a "safe" velocity limit of 0.5 [rad/seg]  -->
     <joint name="wam1" type="revolute">
        <parent link="wam0"/>
        <child link="wam1"/>
        <origin xyz="0.220 0.140 0.160" rpy="0 0 0" />        
        <limit upper="2.6" lower="-2.6" effort="30" velocity="2" />
        <axis xyz="0 0 1"/>
     </joint> 
     <joint name="wam2" type="revolute">
        <parent link="wam1"/>
        <child link="wam2"/>
        <origin xyz="0 0 0.186" rpy="-1.57 0 0" />        
        <limit upper="2.0" lower="-2.0" effort="30" velocity="2" />
        <axis xyz="0 0 1"/>
      </joint>
     <joint name="wam3" type="revolute">
        <parent link="wam2"/>
        <child link="wam3"/>
        <origin xyz="0 0 0" rpy="1.57 0 0" />        
        <limit upper="2.8" lower="-2.8" effort="30" velocity="2" />
        <axis xyz="0 0 1"/>
      </joint>
     <joint name="wam4" type="revolute">
        <parent link="wam3"/>
        <child link="wam4"/>
        <origin xyz="0.045 0 0.55" rpy="-1.57 0 0" />                
        <limit upper="3.1" lower="-0.9" effort="30" velocity="2" /> 
        <axis xyz="0 0 1"/> 
      </joint>
     <joint name="wam5" type="revolute">
        <parent link="wam4"/>
        <child link="wam5"/>
        <origin xyz="-0.045 -0.3 0" rpy="1.57 0 0" />                   
        <limit upper="1.3" lower="-4.8" effort="30" velocity="2" />       
        <axis xyz="0 0 1"/>        
      </joint>
     <joint name="wam6" type="revolute">
        <parent link="wam5"/>
        <child link="wam6"/>
         <origin xyz="0 0 0" rpy="-1.57 0 0" />
        <limit upper="1.6" lower="-1.6" effort="30" velocity="2" />             
        <axis xyz="0 0 1"/>    
      </joint>
     <joint name="wam7" type="revolute">
        <parent link="wam6"/>
        <child link="wam7"/>
         <origin xyz="0 -0.0609 0" rpy="0 0 0" />        
        <limit upper="2.2" lower="-2.2" effort="30" velocity="2" />
        <axis xyz="0 0 1"/> 
     </joint>
     <gazebo>
	    <controller:wam_gazebo name="wam_gazebo" plugin="libwam_gazebo.so">
			<alwaysOn>true</alwaysOn>
			<update>100</update>
			<updateRate>10000.0</updateRate>
			<b0> wam0 </b0>
			<b1> wam1 </b1>
			<b2> wam2 </b2>
			<b3> wam3 </b3>
			<b4> wam4 </b4>
			<b5> wam5 </b5>
			<b6> wam6 </b6>
			<b7> wam7 </b7>		
			<joint1> wam1 </joint1>
			<joint2> wam2 </joint2>
			<joint3> wam3 </joint3>
			<joint4> wam4 </joint4>
			<joint5> wam5 </joint5>
			<joint6> wam6 </joint6>
			<joint7> wam7 </joint7>	
			<interface:position name="position_iface_0"/>
			<robotNamespace>/</robotNamespace>
			<topicName1>cartesians</topicName1>
			<topicName2>joints</topicName2>
			<dof>7</dof>		
	    </controller:wam_gazebo>
     </gazebo>
 </robot>

