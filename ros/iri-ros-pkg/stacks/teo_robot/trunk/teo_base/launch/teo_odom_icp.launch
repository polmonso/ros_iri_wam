<!-- -->
<launch>

<include file="$(find teo_base)/launch/teo_odom_publisher.launch"/>

<!-- Odometria Laser-ICP FRONT x,y,th prediction using segway's odometry -->

<!-- icp node -->
<node pkg="iri_laser_scan_matcher"
      type="laser_scan_matcher_node"
      name="laser_scan_matcher"
      output="screen" >
      <!--remap from="scan" to="/$(env ROBOT)/front_laser/scan" /-->
      <remap from="odom" to="/$(env ROBOT)/odom_publisher/odom" />
      <param name="scan_topic" value="/$(env ROBOT)/front_laser/scan" />
      <param name="fixed_frame"    value="/$(env ROBOT)/odom"/>
      <param name="base_frame"     value="/$(env ROBOT)/base_footprint"/>
      <param name="use_imu"        value="false"/>
      <param name="use_odom"       value="true"/>
      <param name="use_alpha_beta" value="false"/>
      <param name="max_iterations" value="10"/>
      <param name="publish_tf"     value="false"/>
      <param name="publish_pose"   value="true"/>
</node>

<!-- pose2d_odom -->
<node pkg="iri_pose2d_odom"
      type="iri_pose2d_odom"
      name="iri_pose2d_odom"
      output="screen" >
      <remap from="~/pose2d"      to="/$(env ROBOT)/pose2D" />
      <remap from="~/pose2d_odom" to="/$(env ROBOT)/icp_odom" />
      <param name="parent_id"  value="/$(env ROBOT)/odom" />
      <param name="frame_id"   value="/$(env ROBOT)/base_footprint" />
      <param name="publish_tf" value="true" />
</node>

</launch>
