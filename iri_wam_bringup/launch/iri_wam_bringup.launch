<launch> 

    <arg name="ROBOT"  default="iri_wam"/>
    <arg name="IP" />
    <arg name="IK"     default="True" />
    <arg name="moveit" default="False"/>

    <!-- Load URDF WAM model -->
    <include file="$(find iri_wam_description)/launch/iri_wam_description.launch" />

    <!-- IRI WAM ROS driver -->
    <!-- WAM ROS driver -->
    <include file="$(find iri_wam_wrapper)/launch/iri_wam_wrapper.launch">
       <arg name="ROBOT" value="$(arg ROBOT)"/>
       <arg name="IP" value="$(arg IP)"/>
       <arg name="IK" value="$(arg IK)"/>
    </include>
    
    <!-- ROBOT STATE PUBLISHER NODE -->
    <!-- published topics: -->
    <!-- subscribed topics: $/joint_states -->
    <!-- service clients: -->
    <!-- service servers: -->
    <!-- action clients: -->
    <!-- action servers: -->
    <node pkg ="robot_state_publisher"
          type="state_publisher"
          name="robot_state_publisher">
        <remap from="joint_states" to="/joint_states" />
      <!-- <param name="tf_prefix" value="$(arg ROBOT)" type="str" /> -->
    </node>

    <include file="$(find iri_wam_moveit_state_display)/launch/iri_wam_moveit_state_display.launch" if="$(arg moveit)">
       <arg name="ROBOT" value="$(arg ROBOT)"/>
    </include>

</launch>

